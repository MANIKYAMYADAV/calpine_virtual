
<h1 *ngIf="step === 1" class="mat-dialog-title">Teleservice
    <button (click)="makeStarted()" class="modal_close" tabindex="-1">
        <i class="fa fa-window-close" aria-hidden="true"></i>
    </button>
</h1>
<div *ngIf="step === 1">
    <mat-dialog-content>
        <div class="form-group" style="padding-left: 15px;">
            <div class="border-style locate-customer">
                <div *ngIf="callingModes === 'WhatsApp'">
                    <span *ngIf="!is_web" class="btn-primary-n tele-btn">
                        <i class="fa fa-whatsapp fa-lg whtsap-ic"></i>
                        <!-- <a target="_blank" [href]="starting_url">{{starting_url}}</a> -->
                        <a style="padding-left: 20px;" target="_blank" [href]="starting_url">Launch WhatsApp</a>
                    </span>
                    <span *ngIf="is_web" class="cs-btn bt2 disabled" (click)="launchWhtsap()">
                        <i class="fa fa-whatsapp fa-lg"></i>
                        <!-- <a target="_blank" [href]="starting_url">{{starting_url}}</a> -->
                        <span style="padding-left: 20px;">Launch WhatsApp</span>
                    </span>
                </div>
                <div *ngIf="callingModes !== 'WhatsApp'">
                    <span class="btn-primary-n tele-btn">
                        <img src="https://img.icons8.com/color/16/000000/zoom.png" />
                        <a style="padding-left: 10px;" target="_blank" [href]="starting_url">Launch Zoom</a>
                    </span>
                </div>
                <div class="coupon-outer">
                    <a *ngIf="callingModes !== 'WhatsApp'" class="custId-cursor" (click)="meetingDetails()">Meeting Details</a>
                    <a *ngIf="callingModes === 'WhatsApp' && !is_web" class="custId-cursor" (click)="meetingDetails()">Meeting Details</a>
                </div>
            </div>
            <div *ngIf="callingModes === 'WhatsApp' && is_web">You're using web browser. Send <a class="custId-cursor" (click)="meetingDetails()">meeting details</a> to your phone to launch WhatsApp</div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <div style="width: 100%;padding: 20px;">
            <div class="pull-left">
                <i class="fa fa-bell-o" aria-hidden="true" style="color: #afaf0f;"></i> <a class="tspace custId-cursor"
                    (click)="reminder()">Reminder</a>
            </div>
            <div class="pull-right">
                <i class="fa fa-hourglass-half" aria-hidden="true" style="color: chocolate;"></i> <a
                    class="tspace custId-cursor" (click)="waitingFor()">Waiting for you!</a>
            </div>
        </div>
    </mat-dialog-actions>
</div>
<div *ngIf="step === 2">
    <mat-dialog-content>
        <div class="example-full-width" style="padding-top: 30px;">
            <div class="tspace"><span style="font-size: x-large;">Reminder</span></div>
        </div>
        <mat-form-field class="example-full-width" style="padding-top: 30px;">
            <div class="telemode-msg">Message to {{customer_label}}</div>
            <textarea class="tele_srv_txtarea" matInput placeholder="" [(ngModel)]="msg_to_user"></textarea>
        </mat-form-field>
        <div class="mgtop40 form-group">
            Send message via
            <div class="coupon-outer">
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="sms">
                    SMS
                </mat-checkbox>
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="email">Email
                </mat-checkbox>
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="pushnotify">App
                    notification
                </mat-checkbox>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button type="button" class="cs-btn bt1" (click)="sendMessage()">Send</button>
        <button type="button" class="cs-btn bt2 travelmodeEdit" (click)="back()">Cancel</button>
    </mat-dialog-actions>
</div>
<div *ngIf="step === 3">
    <mat-dialog-content>
        <div class="example-full-width" style="padding-top: 30px;">
            <div class="tspace"><span style="font-size: x-large;">Waiting for you!</span></div>
        </div>
        <mat-form-field class="example-full-width" style="padding-top: 30px;">
            <div class="telemode-msg">Message to {{customer_label}}</div>
            <textarea class="tele_srv_txtarea" matInput placeholder="" [(ngModel)]="msg_to_user"></textarea>
        </mat-form-field>
        <div class="mgtop40 form-group">
            Send message via
            <div class="coupon-outer">
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="sms">
                    SMS
                </mat-checkbox>
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="email">Email
                </mat-checkbox>
                <mat-checkbox class="mgright50 example-margin" [(ngModel)]="pushnotify">App
                    notification
                </mat-checkbox>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button type="button" class="cs-btn bt1" (click)="sendMessage()">Send</button>
        <button type="button" class="cs-btn bt2 travelmodeEdit" (click)="back()">Cancel</button>
    </mat-dialog-actions>
</div>
<div *ngIf="step === 4">
    <mat-dialog-content>
        <button type="button" (click)="back()"><i class="fa fa-arrow-left tool-pading"
                aria-hidden="true"></i>Back</button>
        <div class="example-full-width" style="padding-top: 30px;">
            <div><span style="font-size: x-large;">Meeting Details</span></div>
        </div>
        <div *ngIf="data.type === 'checkin'" class="example-full-width" style="padding-top: 30px;">
            <div>
                <p>Checkin for : {{consumer_fname}} {{consumer_lname}}</p>
                <!-- <p>Token : {{data.qdata.token}}</p> -->
                <p>Join {{callingModes}} Meeting</p>
                <p><a target="_blank" [href]="starting_url">{{starting_url}}</a></p>
                <span class="btn-primary-n custId-cursor" (click)="shareUrl()">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                    Share
                </span>
            </div>
        </div>
        <div *ngIf="data.type === 'appt'" class="example-full-width" style="padding-top: 30px;">
            <div>
                <p>Appointment for : {{consumer_fname}}</p>
                <!-- <p>Appointment time : {{appt_time}}</p> -->
                <p>Join {{callingModes}} Meeting</p>
                <p><a target="_blank" [href]="starting_url">{{starting_url}}</a></p>
                <span class="btn-primary-n custId-cursor" (click)="shareUrl()">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                    Share
                </span>
            </div>
        </div>
    </mat-dialog-content>
</div>
<div  *ngIf="step === 5">
    <mat-dialog-content>
        <button type="button" (click)="back()"><i class="fa fa-arrow-left tool-pading"
            aria-hidden="true"></i>Back</button>
        <div class="example-full-width" style="padding-top: 30px;text-align: center;">
            Change status to "Completed"
        </div>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button type="button" class="cs-btn bt1" (click)="selectCompleted()">OK</button>&nbsp;&nbsp;&nbsp;
        <button type="button" mat-dialog-close class="cs-btn bt2">Cancel</button>
    </mat-dialog-actions>
</div>
<app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
</app-form-success-display>