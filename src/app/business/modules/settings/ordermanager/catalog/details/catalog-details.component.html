  
<section class="">
        <div class="card title-gb">
            <h5 class="mgn-up-10"> 
               
                <span class="fa fa-arrow-left pointer-cursor" (click)="redirecToJaldeeOrdrmnagrCatalog()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                 Catalog creation
            </h5>
        </div>
    </section>
    <section>
        <div class="content loc-list">
            <div class="col-md-12 no-padding-small">
                <div class="row">
                    <div class="card p0" *ngIf="api_loading">
                        <app-common-innerloading-spinner></app-common-innerloading-spinner>
                    </div>
                    <div class="card p0" *ngIf="!api_loading">
                        <div class="copy locd">
                              
                            <div class="lbl col-sm-12 col-md-8 col-lg-7">
                                <form  [formGroup]="amForm" novalidate
                                    (ngSubmit)="amForm.valid && onSubmit(amForm.value)" (keyup)="resetApiErrors()" *ngIf="!showInfo"
                                    class="ynw-common-form-nm">
    
                                    <div class="form-group">
                                        <mat-form-field>
                                            <input matInput type="text" class="form-control" id="catalogName"
                                                placeholder="Catalog Name " formControlName="catalogName"
                                                autocomplete="off" maxlength="50">
                                        </mat-form-field>
                                        <app-field-error-display
                                            [displayError]="fed_service.isFieldValid(amForm,'catalogName')" [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogName',
                                    {
                                      'required' : 'Please enter the short description',
                                      'maxlength' : 'Short description can contain only ' + maxChars + ' characters'
                                    })">
                                        </app-field-error-display>
                                    </div>

                                    <div class="form-group row" >
                                            <div class="col-md-3 col-sm-3 col-xs-4 no-padding-small">
                                                <mat-form-field>
                                                    <input matInput [matDatepicker]="picker"
                                                        (dateChange)="compareDate($event.value,0)" placeholder="Start Date"
                                                        formControlName="startdate" readonly>
                                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-3 col-sm-3 col-xs-5">
                                                <mat-form-field>
                                                    <input matInput [matDatepicker]="picker1"
                                                        (dateChange)="compareDate($event.value,1)" placeholder="End Date"
                                                        formControlName="enddate" readonly>
                                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker1></mat-datepicker>
                                                </mat-form-field>
                                            </div>
                                        </div>

                                    <div class="form-group">
                                            <mat-form-field>
                                                <input matInput type="text" class="form-control" id="catalogshortDesc"
                                                    placeholder="Enter catalog short description  " formControlName="catalogshortDesc"
                                                    autocomplete="off" maxlength="50">
                                            </mat-form-field>
                                            <app-field-error-display
                                                [displayError]="fed_service.isFieldValid(amForm,'catalogshortDesc')" [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogshortDesc',
                                        {
                                          'required' : 'Please enter the short description',
                                          'maxlength' : 'Short description can contain only ' + maxChars + ' characters'
                                        })">
                                            </app-field-error-display>
                                        </div>
                                    <div class="form-group">
                                            <mat-form-field>
                                                <textarea matInput class="form-control" id="catalogDesc"
                                                    placeholder="Enter catalog description " formControlName="catalogDesc"
                                                    (keyup)="setCharCount()" (focus)="setDescFocus()" (blur)="lostDescFocus()"
                                                    maxlength="500"></textarea>
                                            </mat-form-field>
                                            <app-field-error-display
                                                [displayError]="fed_service.isFieldValid(amForm,'catalogDesc')" [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogDesc',
                                        {
                                          'required' : 'Please enter detailed description.',
                                          'maxlength' : 'Detailed description can contain only ' + maxCharslong + ' characters'
                                        })">
                                            </app-field-error-display>
                                            <span class="max-char-length" *ngIf="isfocused">You have {{char_count}}
                                                characters remaining</span>
                                        </div>

                                        <div class="form-group">
                                                <label class="col-form-label" for="PromotionalPricetype">Order type</label>
                                                <mat-radio-group formControlName="orderType">
                                                  <mat-radio-button  value="SHOPPINGCART">Shopping cart</mat-radio-button>&nbsp;&nbsp;
                                                  <mat-radio-button  value="SHOPPINGLIST">Shopping list</mat-radio-button>
                                                </mat-radio-group>
                                         </div>
                                         <div class="box-style col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                Show personalized information about this service
                                                <span class="cs-btn bt3" (click)="showInfoSection()" *ngIf="!preInfoEnabled && !postInfoEnabled">
                                                  Click here</span>
                                                <div class="prepost-check" *ngIf="preInfoEnabled || postInfoEnabled">
                                                  <i class="fa fa-check"></i>
                                                  <a (click)="showInfoSection()"> Instructions Added</a>
                                                </div>
                                              </div>

                                              <div class="mgn-up-10 box-style col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                <div  *ngIf="!seletedCatalogItems">
                                                    <h4>Add items to your cart</h4>
                                                    <span class="cs-btn bt3" (click)="addItemstoCart()" >
                                                      Add items</span>
                                                </div>
                                                
                                                  <div *ngIf="seletedCatalogItems && seletedCatalogItems.length > 0">
                                                      <h4>{{seletedCatalogItems.length}} items are selected</h4>
                                                      <span class="cs-btn bt3" (click)="addItemstoCart()" > Edit items</span>
                                                  </div>
                                              </div>
                                      
                                            <!-- <div class="form-group">
                                                    <label>Show contact information
                                                            <mat-slide-toggle [(ngModel)]="contactInfo" >
                                                            </mat-slide-toggle>&nbsp;
                                                        </label>
                                            </div> -->

                                    <!-- <div class="form-group">
                                        <mat-form-field>
                                            <input matInput type="text" class="form-control" id="contactName"
                                                placeholder="Contact person name  *" formControlName="contactName"
                                                autocomplete="off">
                                        </mat-form-field>
                                        <app-field-error-display
                                            [displayError]="fed_service.isFieldValid(amForm,'contactName')" [errorMsgs]="fed_service.getErrorMessage(amForm,'contactName',
                                    {
                                      'required' : 'Please enter item name',
                                      'maxlength' : 'Name can contain only ' + maxChars + ' characters'
                                    })">
                                        </app-field-error-display>
                                    </div>
    
                                    <div class="form-group">
                                        <mat-form-field>
                                                <input type="text" (keypress)="isNumeric($event)" matInput
                                                class="form-control text-width" id="contactnumber"
                                                placeholder="Contact person phone#" formControlName="contactnumber"
                                                autocomplete="off" maxlength="10">
                                            
                                        </mat-form-field>
                                        <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'contactnumber')"
                                            errorMsg="" [errorMsgs]="fed_service.getErrorMessage(amForm,'contactnumber',
                                    {
                                      'required' : 'Please enter the price.',
                                      'pattern' : 'Please enter valid price',
                                      'maxlength' : 'Price can have only ' + maxNumbers + ' digits'
                                    })">
                                        </app-field-error-display>
                                    </div>
     -->
                                    
    
                                    
    
                                    
                                    
    
                                   
    
                                    
                                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding" style="display: inline-flex;">
                                        <button (click)="onCancel()" type="button"
                                            class="cs-btn bt2">{{cancel_btn_cap}}</button>
                                        &nbsp;
                                        <button type="submit" class="cs-btn bt1" mat-button
                                            [disabled]="!amForm.valid || disableButton">{{save_btn_cap}}</button>
                                      
                                    </div>
                                </form>
                                <div class="ynw-common-form-nm pre-post" *ngIf="showInfo">
                                        <div class="mgn-bt-20 mgn-up-20">
                                          <div class="form-group preinfo">
                                            <label class="col-form-label">Show personalized information about this service in the booking
                                              window&nbsp;&nbsp;</label>
                                            <mat-slide-toggle class="example-margin" [(ngModel)]="preInfoEnabled">
                                            </mat-slide-toggle>
                                          </div>
                                          <div class="form-level-settings">These instructions will be seen by your {{customer_label}}s while choosing the
                                            service.</div>
                                          <div class="form-group pre-post-info" *ngIf="preInfoEnabled">
                                            <mat-form-field>
                                              <input matInput type="text" placeholder="Title *" autocomplete="off" [(ngModel)]="preInfoTitle"
                                                [ngModelOptions]="{standalone: true}" maxlength="20">
                                            </mat-form-field>
                                            Enter the text your {{customer_label}}s will see
                                            <div class="glbl-seting-editor mgn-bt-20 mgn-up-20">
                                              <ckeditor id="editor" [editor]="Editor" (ready)="onReady($event)" [(ngModel)]="preInfoText"
                                                [ngModelOptions]="{standalone: true}">
                                              </ckeditor>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="mgn-bt-20 mgn-up-20">
                                          <div class="form-group postinfo">
                                            <label class="col-form-label">Show personalized messages to your {{customer_label}}s upon successful booking
                                              confirmation&nbsp;&nbsp;</label>
                                            <mat-slide-toggle class="example-margin" [(ngModel)]="postInfoEnabled">
                                            </mat-slide-toggle>
                                          </div>
                                          <div class="form-level-settings">These instructions will be seen by your {{customer_label}}s after confirmation of
                                            the service.</div>
                                          <div class="form-group pre-post-info" *ngIf="postInfoEnabled">
                                            <mat-form-field>
                                              <input matInput type="text" placeholder="Title *" autocomplete="off" [(ngModel)]="postInfoTitle"
                                                [ngModelOptions]="{standalone: true}" maxlength="20">
                                            </mat-form-field>
                                            Enter the text your {{customer_label}}s will see
                                            <div class="glbl-seting-editor mgn-bt-20 mgn-up-20">
                                              <ckeditor id="editor" [editor]="Editor" (ready)="onReady($event)" [(ngModel)]="postInfoText"
                                                [ngModelOptions]="{standalone: true}">
                                              </ckeditor>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 actiondiv no-padding">
                                          <button class="cs-btn bt2 savemember" (click)="cancelChanges()">Cancel</button>&nbsp;&nbsp;
                                          <button mat-button class="cs-btn bt1 savemember" (click)="showInfoSection()">Save</button>
                                        </div>
                                      </div>
                                <app-field-error-display class="itemerror"[displayError]="true" *ngIf="api_error" errorMsg="{{api_error}}">
                                </app-field-error-display>
                                <app-form-success-display [displayMsg]="true" *ngIf="api_success"
                                    successMsg="{{api_success}}">
                                </app-form-success-display>
                                

                            </div>
                            <div class="lbr col-sm-12 col-md-4 col-lg-5"></div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> 