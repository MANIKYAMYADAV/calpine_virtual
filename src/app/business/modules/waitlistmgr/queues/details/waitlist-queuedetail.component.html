<section>
    <app-breadcrumb [breadcrumbs]="breadcrumbs"></app-breadcrumb>
</section>

<section>
    <div class="content loc-list">
        <div class="col-md-12" *ngIf="queue_data">
            <div class="row">
                <div class="card que p0" *ngIf="api_loading">
                    <app-common-innerloading-spinner></app-common-innerloading-spinner>
                </div>
                <div class="card que p0" *ngIf="!api_loading">
                    <div class="copy locd">
                        <div class="lbl col-sm-12 col-md-12 col-lg-12">
                            <div class="cl1">
                                <span class="editbt" (click)="addEditProviderQueue('edit')"
                                    *ngIf="queue_data.queueState=='ENABLED' && !queue_data.instantQueue"></span>
                                <div class="ot-it que">
                                    <div class="row col-sm-12 padleft" style="display: flex;">
                                        <h4>{{queue_data.name | capitalizeFirst}}</h4>
                                        <span class="tspace">
                                            <mat-slide-toggle [checked]="queue_data.queueState=='ENABLED'"
                                                (change)="changeProviderQueueStatus(queue_data)"></mat-slide-toggle>
                                        </span>
                                        <span class='greenc mgn-lt-5'
                                            *ngIf="queue_data.queueState=='ENABLED'">{{enabled_cap}}</span>
                                        <span class='disabled mgn-lt-5'
                                            *ngIf="queue_data.queueState=='DISABLED'">{{disabled_cap}}</span>
                                    </div>
                                    <!-- <div class="row col-sm-12 padleft">
                                            <span class='greenc'
                                                *ngIf="queue_data.queueState=='ENABLED'">{{enabled_cap}}</span>
                                            <span class='disabled'
                                                *ngIf="queue_data.queueState=='DISABLED'">{{disabled_cap}}</span>
                                        </div> -->
                                    <div class="row col-sm-12 workpading">
                                        <div class="c-ot row col-sm-12">
                                            <div class="item schedule"
                                                *ngIf="this.display_schedule && !queue_data.instantQueue">
                                                <span class="ttle">Schedule</span> <span class="it0"
                                                    *ngFor="let schedule of this.display_schedule"> <span
                                                        class="day">{{schedule.dstr}} </span>&nbsp;:
                                                    <span class="time">{{schedule.time}}</span>
                                                </span>
                                            </div>
                                            <div class="item">
                                                <span class="ttle">{{location_cap}}</span> <span class="icon-location">{{queue_data.location.place |
                                                        capitalizeFirst}}</span>
                                            </div>
                                        </div>
                                        <div class="c-ot row col-sm-12">
                                            <div class="item">
                                                <span class="ttle">{{service_cap}}</span> <span class="it0"
                                                    *ngFor="let service of queue_data.services">
                                                    <span class="itm">{{service.name | capitalizeFirst}}</span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="c-ot row col-sm-12">
                                            <div class="item">
                                                <span class="ttle">Maximum {{customer_label}}s served</span> <span
                                                    class="icon-customer-line">{{queue_data.capacity}}</span>
                                            </div>
                                            <div class="item">
                                                <span class="ttle">{{customer_label | capitalizeFirst}}s served at a
                                                    time</span> <span
                                                    class="icon-customer-served">{{queue_data.parallelServing}}</span>
                                            </div>
                                            <div class="item"
                                                *ngIf="queue_data.calculationMode==='NoCalc' && queue_data.showToken">
                                                <span class="ttle">Token starts from</span>
                                                <span>{{queue_data.tokenStarts}}</span>
                                            </div>
                                            <div class="item">
                                                <span class="ttle">Online check-ins</span> <span
                                                    *ngIf="queue_data.onlineCheckIn">On</span><span
                                                    *ngIf="!queue_data.onlineCheckIn">Off</span>
                                            </div>
                                            <div class="item" *ngIf="!queue_data.instantQueue">
                                                <span class="ttle">Future check-ins</span> <span
                                                    *ngIf="queue_data.futureWaitlist">On</span><span
                                                    *ngIf="!queue_data.futureWaitlist">Off</span>
                                            </div>
                                        </div>
                                        <div class="c-ot row col-sm-12">
                                            <div class="item" style="display: flex;">
                                                <span class="ttle mgn-rt-20">Enable time slot</span>
                                                <mat-slide-toggle class="example-margin" [(ngModel)]="appointment"
                                                    (change)="changeTimeslotStatus($event)">
                                                </mat-slide-toggle>
                                            </div>
                                        </div>
                                        <div class="batch col-sm-12 mgn-bt-15 mgn-up-10">
                                            <div class="mgn-up-10" style="display: flex;">
                                                <h5> Batch mode </h5>
                                                <mat-slide-toggle class="example-margin mgn-lt-10"
                                                    [(ngModel)]="batchStatus" (change)="changeBatchStatus($event)">
                                                </mat-slide-toggle>
                                                <span class="greenc mgn-lt-5" *ngIf="batchStatus">
                                                    Enabled
                                                </span>
                                                <span class="disabled-text mgn-lt-5" *ngIf="!batchStatus">
                                                    Disabled
                                                </span>
                                            </div>
                                            <div class="batch-hint mgn-bt-20">
                                                Batch Mode is a feature that groups up the customers who take check-ins
                                                with
                                                the provider. Batch number together with prefix and suffix is the unique
                                                identifier assigned to customers who come under a batch. Batch size will
                                                be
                                                the number of customers served at a time.
                                            </div>
                                            <div class="mgn-up-25 ynw-common-form-nm" *ngIf="batchStatus">
                                                <div class="c-ot" *ngIf="!showEditSection">
                                                    <div class="item"
                                                        *ngIf="queue_data.batchPatternSettings && queue_data.batchPatternSettings.prefix != ''">
                                                        <span class="ttle"> Prefix </span><span
                                                            class="day">{{queue_data.batchPatternSettings.prefix}}</span>
                                                    </div>
                                                    <div class="item"
                                                        *ngIf="queue_data.batchPatternSettings && queue_data.batchPatternSettings.suffix && queue_data.batchPatternSettings.suffix != ''">
                                                        <span class="ttle"> Suffix </span><span
                                                            class="day">{{queue_data.batchPatternSettings.suffix}}</span>
                                                    </div>
                                                    <span class="editbt" (click)="editBatchnames()"></span>
                                                </div>
                                                <div class="batchedit" *ngIf="showEditSection">
                                                    <div class="col-md-2 col-xs-4 mgn-rt-20 item">
                                                        <mat-form-field>
                                                            <input
                                                                style="padding-top: 20px!important;padding-bottom: 5px !important;"
                                                                matInput placeholder="Prefix" [(ngModel)]="prefixName"
                                                                autocomplete="off" maxlength="10">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-2 col-xs-4 item">
                                                        <mat-form-field>
                                                            <input
                                                                style="padding-top: 20px!important;padding-bottom: 5px !important;"
                                                                matInput placeholder="Suffix" [(ngModel)]="suffixName"
                                                                autocomplete="off" maxlength="10">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-2 col-xs-2 mgn-up-25">
                                                        <button class="btn bt3 btn-default" (click)="addBatchName()"
                                                            type="button">ok</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</section>