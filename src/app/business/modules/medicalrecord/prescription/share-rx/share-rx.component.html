




<form [formGroup]="amForm" class="ynw-common-form" novalidate (ngSubmit)="amForm.valid && onSubmit(amForm.value)">
<h1 class="mat-dialog-title">share
    <button #queue mat-dialog-close class="modal_close">
        <i class="fa fa-window-close" aria-hidden="true"></i>
    </button>
</h1>

<mat-dialog-content>
       
        <div class="form-group" >
  <mat-form-field>
        <mat-select name="item"   [(ngModel)]="sharewith"  placeholder="Share with whom" [ngModelOptions]="{standalone: true}"  (selectionChange)="onUserSelect($event)">
          <mat-option *ngFor="let item of msgreceivers" [value]="item.id">{{item.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

       
                <div class="form-group" *ngIf="showcustomId">
                        <mat-form-field>
                            <input matInput type="text" class="form-control" id="customid"
                                placeholder="Custome Id *" [(ngModel)]="customid" [ngModelOptions]="{standalone: true}"
                                autocomplete="off">
                        </mat-form-field>
                       
                    </div>
               

    <div class="form-group" >
        <mat-form-field>
            <textarea matInput class="form-control" id="message" placeholder="Please Enter Message * "
                formControlName="message" maxlength="1000">
        </textarea>
       </mat-form-field>
        <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'message')"
            errorMsg="Please enter a message.">
        </app-field-error-display>
    </div>

    <div class="mgtop40 form-group" >
            We will create a PDF of your prescription and will share Via
        <div class="coupon-outer">
            <mat-checkbox    class="mgright50 example-margin" [(ngModel)]="sms" [ngModelOptions]="{standalone: true}">
                SMS
            </mat-checkbox>
            <mat-checkbox  class="mgright50 example-margin" [(ngModel)]="email"
                [ngModelOptions]="{standalone: true}">Email
            </mat-checkbox>
            <mat-checkbox  class="mgright50 example-margin" [(ngModel)]="pushnotify"
                [ngModelOptions]="{standalone: true}">App
                notification
            </mat-checkbox>
        </div>
    </div>

</mat-dialog-content>
<mat-dialog-actions>

    <div class="col-md-12" style="margin-top: 15px;display: inline-flex;">
        <button type="button" mat-dialog-close class="cs-btn bt2"
            [disabled]="disableButton">Cancel</button>
        <button type="submit" mat-button [disabled]="!amForm.valid "
            class="cs-btn bt1 mr10">send</button>

    </div>
</mat-dialog-actions>
<app-field-error-display [displayError]="true" *ngIf="api_error" errorMsg="{{api_error}}"></app-field-error-display>

<app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
</app-form-success-display>
</form>

<div id="sharerxview">
    <section style="padding: 10px;"> 
      <div >
          <div style="float:left;">
              <img  style="width: 50px;" [src]="showimg()" alt="" *ngIf="blogo[0] && blogo[0].url">
            </div>
                  <h2 style="text-align: center; padding-top: 30px;">Amma Hospital </h2>
                  <div>
                    <p>Dr.shiva Reddy <sub>M.B.B.S ,MS(Ortho)</sub> <span style="float: right;" >9959962001</span> </p>
                    <p>Hi-tech city,hydebar </p>
                  </div>
                  <hr>
                  <div>
                      <label>Patient Name:</label><span>{{customerDetail.firstName | capitalizeFirst}} {{customerDetail.lastName}} </span>
                      <p style="float: right;"> <label >Date:</label><span>25/02/2020</span> </p>
                  </div>
                  <div>
                      <label *ngIf="customerDetail.dob" >DOB:</label><span *ngIf="customerDetail.dob" >{{customerDetail.dob  | date:display_dateFormat}}</span>
                      <p style="float: right;" *ngIf="customerDetail.gender"> <label >Gender:</label><span>{{customerDetail.gender | capitalizeFirst}}</span> </p>
                  </div>          
                   <table class="table table-bordered" >
                      <thead>
                      <tr >
                        <th>
                           Medicine
                        </th>
                        <th>
                            Duration(days)
                        </th>
                         <th>
                            Dosage
                        </th>
                        <th>
                            Frequency
                        </th>
                        <th>
                            Instructions
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let drug of drugList; let i = index;" >
                        <td >
                          {{drug.medicine_name}}
                        </td>
                        <td >
                          {{drug.duration}}
                        </td>
                        <td>
                              {{drug.dosage}}
                           </td>
                        <td>
                               {{drug.frequency}}
                        </td>  
                        <td>
                               {{drug.instructions}}
                        </td>               
                      </tr>
                    </tbody>     
                    </table>
      </div>
      <div style="height: 100px" >
        <img  style="width: 100px;height:75px" [src]="signurl" alt="" >
      </div>
   </section>
</div>


