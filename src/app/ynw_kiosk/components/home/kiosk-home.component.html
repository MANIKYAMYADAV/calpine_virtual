<div class="ksk-cpy getin" *ngIf="kiosk_loading==false">
    <ng-container *ngIf="provider_loggedin">
        <!-- get info from User -->
            <div class="get-info" *ngIf="!customer_found && showsearch_now">
                    <div class="form-group">
                        <span class="label">Enter Your <span>Mobile Number</span></span>
                        <input type="text" class="form-control" [(ngModel)]="srch_mobile" autofocus autocomplete="off">
                    </div>
                    <div class="form-group">
                        <span class="label">For security reasons please enter the first 3 letters of your <span>First Name/Last Name</span></span>
                        <input type="text" class="form-control" [(ngModel)]="srch_fname" autocomplete="off">
                    </div>
                    
                    <div class="form-group">
                        <button class="cs-btn ripple" (click)="searchCustomer()" *ngIf="loadingNow==false">Search</button>
                    </div>
            </div>
            <div class="get-info" *ngIf="show_customernotfoundmsg">
            <div class="notice show" >
                <div class="box error">
                    <span class="label"><span>Ooops!!</span>You are not a Registered customer, would you like to Register?</span>
                    <button class="cs-btn ripple" (click)="showRegister()">Register</button>
                </div>
            </div>
            <div class="goback">
                    <button class="cs-btn ripple" (click)="showSearchNow()">Back to Search</button>
            </div>
            </div>

            <div class="get-info" *ngIf="show_customerRegister">
                <div class="form-group">
                    <span class="label">Enter Your <span>First Name</span></span>
                    <input type="text" class="form-control" [(ngModel)]="reg_fname" autofocus autocomplete="off">
                </div>
                <div class="form-group">
                    <span class="label">Enter Your <span>Last Name</span></span>
                    <input type="text" class="form-control" [(ngModel)]="reg_lname" autofocus autocomplete="off">
                </div>
                <div class="form-group">
                        <button class="cs-btn ripple" (click)="registerCustomer()" *ngIf="loadingNow==false">Register</button>
                </div>
                <div class="goback">
                        <button class="cs-btn ripple" (click)="showSearchNow()">Back to Search</button>
                </div>
            </div>

            <!-- get info from User xx ends -->

            <!-- welcome screen -->
        
                <div class="kiosk-customerdet" (click)="showMode('main')" *ngIf="customer_found"> Welcome {{customerDispDet.name}}</div>
                
                <ul class="controls" *ngIf="cMod=='main'">
                    <li><button class="ot" (click)="showMode('checkin')"><span class="icon-k-checkin" ></span><span class="title">Check-In Yourself</span></button></li>
                    <li><button class="ot" (click)="showMode('status')"><span class="icon-k-lookup"></span><span class="title">Lookup Your Status</span></button></li>
                    <!-- <li><button class="ot" (click)="showMode('rate')"><span class="icon-k-rating"></span><span class="title">Rate Your Visit</span></button></li> -->
                    <li><button class="ot" (click)="showMode('arrived')"><span class="icon-k-arrived"></span><span class="title">Report As Arrived</span></button></li>
                </ul>
                <ng-container *ngIf="customer_found">
                    <ng-container *ngIf="cMod=='checkin'">
                        <app-check-in-inner [data]="getParametersforCheckin()"></app-check-in-inner>
                    </ng-container>

                    <ng-container *ngIf="cMod=='status'">
                        <app-lookup-status [passedInData]="getpassedinDetails()" *ngIf="query_executed"></app-lookup-status>
                    </ng-container>

                    <!-- <ng-container *ngIf="cMod=='rate'">
                        <app-rate-visit [passedInData]="getpassedinDetails()" *ngIf="query_executed"></app-rate-visit>
                    </ng-container> -->

                    <ng-container *ngIf="cMod=='arrived'">
                        <app-reportas-arrived [passedInData]="getpassedinDetails()" (handleArrived)="arrivedReturn($event)" *ngIf="query_executed"></app-reportas-arrived>
                    </ng-container>
                </ng-container>
                <!-- welcome screen ends -->

                <!-- sticky controls -->
                <ul class="controls sticky" *ngIf="cMod != 'main'">
                    <li><button class="ot" (click)="showMode('main')"><span class="icon-k-home"></span><span class="title">Home</span></button></li>
                    <li><button class="ot" (click)="showMode('checkin')"><span class="icon-k-checkin"></span><span class="title">Check-In Yourself</span></button></li>
                    <li><button class="ot" (click)="showMode('status')"><span class="icon-k-lookup"></span><span class="title">Lookup Your Status</span></button></li>
                    <!-- <li><button class="ot" (click)="showMode('rate')"><span class="icon-k-rating"></span><span class="title">Rate Your Visit</span></button></li> -->
                    <li><button class="ot" (click)="showMode('arrived')"><span class="icon-k-arrived"></span><span class="title">Report As Arrived</span></button></li>
                </ul>
                <!-- sticky controls -->

                <div *ngIf="cMod != 'main'">
                   <span (click)="logOff()" *ngIf="customer_found">Logoff</span>
                </div>
    </ng-container>
    <ng-container *ngIf="!provider_loggedin">
    <div class="error">Sorry you are not authorized to view this page.</div>
    </ng-container>
</div>