<section class="content bus-page">
    <div class="container">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading top-row ">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <a class="pull-left back-btn mgn-up-5"
                            (click)="goBack()"><i class="fa fa-arrow-left"></i></a>
                    </div>
                    <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 no-padding">
                        <app-header *ngIf="sharedFunctionobj.checkLogin()"  [includedfrom]="'pdetails'"></app-header>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="col-md-3 col-xs-12 col-sm-4 col-lg-3">
                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12">
                            <img alt="Profile Image" src="{{bLogo}}" id="profile-image1"
                                class="img-circle img-responsive pointer-cursor"
                                (click)="openImageModalRow(image_list_popup[0])">
                        </div>
                        <div class="gal col-md-12 col-xs-12 col-sm-12 col-lg-12">
                            <div class="gallery-bullet centeralign pointer-cursor"
                                (click)="openImageModalRow(image_list_popup[0])">
                                <i class="fa fa-circle" *ngFor="let enable of galleryenabledArr"></i>
                                <i class="fa fa-circle-o" *ngFor="let i of gallerydisabledArr"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-9 col-xs-12 col-sm-8 col-lg-9 no-padding bus-title-content" *ngIf="businessjson">
                        <div class="col-md-8 col-xs-12 col-sm-12 col-lg-8 no-padding">
                            <div class="no-padding"
                                [ngClass]="{'col-md-9':(businessjson.verifyLevel == 'BASIC' ||
                            businessjson.verifyLevel == 'BASIC_PLUS' || businessjson.verifyLevel == 'ADVANCED')?true:false}">
                                <h3 *ngIf="businessjson.businessName">{{businessjson.businessName | capitalizeFirst}}
                                </h3>
                                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-up-5 no-padding"
                                    *ngIf="locationjson && locationjson.length == 1">
                                    <h6 *ngIf="!locationjson[0].isPlaceisSame"><a [href]="locationjson[0].googleMapUrl"
                                            target="_blank" *ngIf="locationjson[0].googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>&nbsp;{{locationjson[0].place | capitalizeFirst}}</a>
                                    </h6>
                                    <h6 *ngIf="locationjson[0].isPlaceisSame"><a [href]="loc.googleMapUrl"
                                            target="_blank" *ngIf="locationjson[0].googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>
                                            {{loc.address.substr(0, locationjson[0].address.split(',', 2).join(',').length)}}</a>
                                    </h6>
                                </div>
                                <div class="question-main-outer col-md-12 col-xs-12 col-sm-12 no-padding"
                                    *ngIf="bNameStart!='' || bNameEnd!=''">
                                    <div class="question-outer">
                                        <ng-container>
                                            <div class="question-header">About us
                                            </div>
                                            <div class="question-value1 ">
                                                <span *ngIf="bNameStart!=''"
                                                    [innerHTML]="bNameStart | nl2br"></span><span
                                                    *ngIf="bNameEnd!='' && showmoreDesc"
                                                    [innerHTML]="bNameEnd | nl2br"></span>
                                                <span class="more" *ngIf="!showmoreDesc && bNameEnd!=''"
                                                    (click)="showDesc()">...more</span>
                                                <span class="more" *ngIf="showmoreDesc" (click)="showDesc()">less</span>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div *ngIf="specializationslist.length == 1" class="question-header mgn-up-5">
                                    Specialization
                                </div>
                                <div *ngIf="specializationslist.length > 1" class="question-header mgn-up-5">
                                    Specializations
                                </div>
                                <div class="question-value1">
                                    <span *ngFor="let spec of specializationslist;"
                                        style="display: inline-block;margin-right:10px">
                                        {{spec}}
                                    </span>
                                    <ng-container *ngIf="showmoreSpec  && specializationslist_more.length>0">
                                        <span *ngFor="let spec of specializationslist_more"
                                            style="display: inline-block;margin-right:30px">
                                            {{spec}}
                                        </span>
                                    </ng-container>
                                    <span class="more" *ngIf="!showmoreSpec && specializationslist_more.length>0"
                                        (click)="showSpec()">...more</span>
                                    <span class="more" *ngIf="showmoreSpec && specializationslist_more.length>0"
                                        (click)="showSpec()">less</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4 no-padding mgn-up-10">
                            <ul class="bus-actions no-padding" *ngIf="settings_exists && business_exists">
                                <li *ngIf="!isInFav && !userId">
                                    <a class='like-btn' (click)="handle_Fav('add')">
                                        {{add_to_fav_cap}}
                                    </a>
                                </li>
                                <li *ngIf="isInFav">
                                    <a class='like-btn' (click)="doRemoveFav()">
                                        {{rem_from_fav_cap}}
                                    </a>
                                </li>
                                <li>
                                    <a class="like-btn" (click)="communicateHandler()">
                                        <span *ngIf="provider_bussiness_id">
                                            {{send_msgs_cap}}
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding">
                            <ul class="bus-actions bus-actions-horiz no-padding">
                                <li class="centeralign"><a class="mgn-lt-3 lnk pointer-cursor"
                                        (click)="redirectToHistory()">History</a></li>
                                <li *ngIf="s3CouponList.length>0 && isfirstCheckinOffer && frstChckinCupnCunt>0"><i
                                        class="fa fa-tag red"></i><span class="icon-first-coup pointer-cursor"
                                        (click)="openCoupons('first')">{{first_time_coupon}}</span></li>
                                <li *ngIf="s3CouponList.length>0"><i class="fa fa-tag blue"></i><span
                                        class="icon-jal-coupon pointer-cursor"
                                        (click)="openCoupons()">{{jaldee_coupon}}</span></li>
                                <li class="centeralign"><a class="mgn-lt-3 lnk pointer-cursor"
                                        (click)="showMoreInfo()">More Info</a></li>
                            </ul>
                        </div>
                    </div>
                    <ks-modal-gallery *ngIf="image_list_popup && image_list_popup.length>0"
                        [modalImages]="image_list_popup" [plainGalleryConfig]="customPlainGalleryRowConfig"
                        [buttonsConfig]="customButtonsFontAwesomeConfig" (buttonBeforeHook)="onButtonBeforeHook($event)"
                        (buttonAfterHook)="onButtonAfterHook($event)"></ks-modal-gallery>
                    <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 showmoresec"
                        *ngIf="showMore">
                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10">
                            <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-bt-10">
                                <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10">
                                    <div class="question-header">Area of Specialization</div>
                                    <div class="question-value1">{{businessjson.serviceSubSector.displayName |
                                        capitalizeFirst}}</div>
                                </div>
                                <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10"
                                    *ngFor="let vfield of virtualfieldsCombinedjson">
                                    <div class="question-outer" *ngIf="vfield.value">
                                        <ng-container>
                                            <div class="question-header">{{vfield.displayName}}</div>
                                            <div class="question-value1" *ngIf="vfield.type!= 'object'"
                                                [innerHTML]="sharedFunctionobj.firstToUpper(vfield.value) | nl2br">
                                            </div>
                                            <div class="question-valuearr" *ngIf="vfield.type== 'object'">
                                                <ul class="virtual-field-ul" *ngFor="let vals of vfield.value">
                                                    <li class="vfield-row" *ngIf="vals.length">
                                                        <span *ngFor="let field of vals" class="morevalspan">
                                                            {{field}}
                                                        </span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10"
                                    *ngIf="socialMedialist.length>0">
                                    <div class="question-header">Social Media</div>
                                    <div class="question-value1">
                                        <ul class="details socialmedia no-padding">
                                            <li *ngFor="let soc of socialMedialist"><a rel="noopener" [href]="soc.value"
                                                    target="_blank"><i [class]="getSocialdet(soc.resource, 'iconClass')"
                                                        [matTooltip]="getSocialdet(soc.resource, 'displayName')"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="question-main-outer col-md-6 col-lg-6 col-xs-12 col-sm-6 mgn-up-10">
                                    <div class="question-header">Amenities</div>
                                    <div class="question-value1">
                                        <ul class="details badges no-padding">
                                            <ng-container *ngIf="locationjson && locationjson.length > 0">
                                                <li *ngIf="locationjson[0].parkingType && locationjson[0].parkingType!=='' && locationjson[0].parkingType != undefined && locationjson[0].parkingType != 'none'"
                                                    [matTooltip]="'Parking Type: ' + locationjson[0].parkingType">
                                                    <span class="icon-parking"></span></li>
                                                <li
                                                    *ngIf="locationjson[0].open24hours && locationjson[0].open24hours==1">
                                                    <span class="icon-open-time" [matTooltip]="'24 Hours Open'"></span>
                                                </li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.traumacentre=='true'"
                                                    [matTooltip]="'Trauma Centre'"><span class="icon-trauma"></span>
                                                </li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.docambulance=='true'"
                                                    [matTooltip]="'Ambulance Services'"><span
                                                        class="icon-ambulance"></span>
                                                </li>
                                                <li [matTooltip]="'Emergency Services'" *ngIf="locationjson[0]?.locationVirtualFields?.physiciansemergencyservices=='true' || 
                                    locationjson[0]?.locationVirtualFields?.dentistemergencyservices=='true' || 
                                    locationjson[0]?.locationVirtualFields?.altemergencyservices=='true' ||
                                    locationjson[0]?.locationVirtualFields?.hosemergencyservices=='true' || 
                                    locationjson[0]?.locationVirtualFields?.veterinaryemergencyservices=='true'">
                                                    <span class="icon-emergency"></span></li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.firstaid=='true'"
                                                    [matTooltip]="'First Aid'"><span class="icon-first-aid"></span>
                                                </li>
                                            </ng-container>
                                        </ul>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="question-main-outer col-md-12 col-lg-12 col-xs-12 col-sm-12 mgn-up-10"
                                    *ngIf="phonelist.length > 0 || emaillist.length > 0">
                                    <div class="question-header">Contact Details</div>
                                    <div class="question-value1">
                                        <ul class="details  no-padding">
                                            <li *ngIf="phonelist.length > 0">
                                                <span *ngFor="let phone of phonelist">
                                                    <span class="glyphicon glyphicon-user one" style="width:20px"
                                                        [matTooltip]="phone.label | capitalizeFirst">
                                                    </span>{{phone.instance}}</span>
                                            </li>
                                            <li *ngIf="emaillist.length > 0">
                                                <span *ngFor="let email of emaillist"><span
                                                        class="glyphicon glyphicon-envelope one" style="width:20px"
                                                        [matTooltip]="email.label | capitalizeFirst"></span>{{email.instance}}
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Locations -->
        <div class="row info-bar locations" *ngIf="locationjson.length > 0 && !api_loading && !loading">
            <div class="card no-padding">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pad-bt-10 mgn-bt-50 no-padding"
                    *ngFor="let loc of locationjson; let i = index">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pad-bt-10  loc-card"
                        *ngIf="locationjson.length == 1 && loc.checkins && loc.checkins.length>0">
                        <a class="lnk"><span class="ch-title"
                                (click)="showExistingCheckin(loc.id, loc.place, i)">{{you_have_cap}}
                                <span class="count">{{loc.checkins.length}}
                                    {{getTerminologyTerm('waitlist')}}</span>
                                {{at_this_loc_cap}}</span></a>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding loc-card"
                        *ngIf="locationjson.length > 1">
                        <div class="loc-accor">
                            <div class="location-accord">
                                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-bt-20">
                                    <h3 *ngIf="!isPlaceisSame"><a [href]="loc.googleMapUrl" target="_blank"
                                            *ngIf="loc.googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>&nbsp;{{loc.place | capitalizeFirst}}</a>
                                    </h3>
                                    <h3 *ngIf="isPlaceisSame"><a [href]="loc.googleMapUrl" target="_blank"
                                            *ngIf="loc.googleMapUrl!=''"><i class="fa fa-map-marker"></i>
                                            {{loc.address.substr(0, loc.address.split(',', 2).join(',').length)}}</a>
                                    </h3>
                                    <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12">
                                        <a class="lnk"><span class="ch-title"
                                                *ngIf="loc.checkins && loc.checkins.length>0"
                                                (click)="showExistingCheckin(loc.id, loc.place, i)">{{you_have_cap}}
                                                <span class="count">{{loc.checkins.length}}
                                                    {{getTerminologyTerm('waitlist')}}</span>
                                                {{at_this_loc_cap}}</span></a>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <!-- Departments True-->
                    <ng-container *ngIf="showDepartments">
                        <!--Iterate over services-->
                        <!--Show Departments - Show Providers -->
                        <div class="deptInfo row m0" *ngFor="let deptUser of deptUsers">
                            <div class="dept-head col-md-12 col-xs-12 col-sm-12" *ngIf="!userId || userId!=0">
                                <h6>{{deptUser.departmentName | capitalizeFirst}}</h6>
                            </div>
                            <div class="dept-content">
                                <ng-container *ngIf="loc['appttime_det'] && !loc['appttime_det']['message']">
                                    <ng-container *ngFor="let service of loc['apptservices'][deptUser.departmentId]">
                                        <div class="bus-item"
                                            *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                            <div class="card card-item-n no-padding">
                                                <div class="card-item-title">
                                                    <a class="pointer-cursor"
                                                        (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                        <span class="service-icon"
                                                            *ngIf="service.serviceType == 'virtualService'">
                                                            <i class="fa phon-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                            <i class="fa meet-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                            <i class="fa zoom-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                            <i class="fa wtsapaud-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                            <i class="fa wtsapvid-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                        </span>
                                                        <b>
                                                            {{service.name | capitalizeFirst}}
                                                        </b>
                                                    </a>
                                                </div>
                                                <div class="card-item-content">
                                                    <div class="card-item-content-info">Mani                                          
                                                        <ng-container class="bottom-actions-root"
                                                            *ngIf="loc['appttime_det']">
                                                            <p class="price mgn-up-10 mgn-bt-0">
                                                                {{loc['appttime_det']['caption']}}
                                                            </p>
                                                            <p class="title-style mgn-up-5-m">
                                                                {{loc['appttime_det']['date']}}</p>
                                                        </ng-container>
                                                    </div>
                                                    <div class="card-item-content-action">
                                                        <div class="checkin-btn-bp"
                                                            (click)="appointmentClicked(loc, service)"
                                                            *ngIf="loc['apptAllowed'] && onlinePresence">
                                                            Appointment
                                                        </div>                                                       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </ng-container>
                                <ng-container
                                    *ngIf="loc['estimatedtime_det'] && !loc['estimatedtime_det']['message'] && loc['waitlist']">
                                    <ng-container *ngFor="let service of loc['wlservices'][deptUser.departmentId]">
                                        <div class="bus-item"
                     						*ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">                                            
                     						<div class="card card-item-n no-padding">
                                                <div class="card-item-title">
                                                    <a class="pointer-cursor"
                                                        (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                        <span class="service-icon"
                                                            *ngIf="service.serviceType == 'virtualService'">
                                                            <i class="fa phon-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                            <i class="fa meet-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                            <i class="fa zoom-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                            <i class="fa wtsapaud-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                            <i class="fa wtsapvid-icon"
                                                                *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                        </span>
                                                        <b>
                                                            {{service.name | capitalizeFirst}}
                                                        </b>
                                                    </a>
                                                </div>
                                                <div class="card-item-content">
                                                    <div class="card-item-content-info">
                                                        <ng-container
                                                            *ngIf="loc['waitlist'] && onlinePresence && loc['estimatedtime_det']">
                                                            <ng-container
                                                                *ngIf="settingsjson['calculationMode']!='NoCalc'|| (settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId'])">
                                                                <p class="title-style mgn-bt-m-5"
                                                                    *ngIf="loc['personAhead']!=0 && loc['personAhead'] > 1">
                                                                    {{loc['personAhead']}} People</p>
                                                                <p class="title-style mgn-bt-m-5"
                                                                    *ngIf="loc['personAhead']!=0 && loc['personAhead'] == 1">
                                                                    1 Person</p>
                                                                <p class="price mgn-bt-5"
                                                                    *ngIf="loc['personAhead'] > 0">
                                                                    {{waitinglineCap}}</p>
                                                                <p class="title-style mgn-up-5"
                                                                    *ngIf="loc['personAhead']==0"> Be
                                                                    the
                                                                    first in line</p>
                                                            </ng-container>
                                                        </ng-container>
                                                        <ng-container class="bottom-actions-root"
                                                            *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                            <ng-container class="checkin-est"
                                                                *ngIf="loc['estimatedtime_det']['caption'] && settingsjson['calculationMode'] && settingsjson['calculationMode']!='NoCalc'">
                                                                <p class="price mgn-bt-0">
                                                                    {{loc['estimatedtime_det']['caption']}}
                                                                </p>
                                                                <p class="title-style mgn-up-5-m">
                                                                    {{loc['estimatedtime_det']['time']}}
                                                                </p>

                                                            </ng-container>
                                                            <ng-container
                                                                *ngIf="settingsjson['calculationMode'] && settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId']">
                                                                <ng-container
                                                                    *ngIf="loc['personAhead'] || loc['personAhead'] === 0">
                                                                    <p class="price mgn-bt-0" *ngIf="!loc.opennow">
                                                                        Next Available Time
                                                                    </p>
                                                                    <p class="title-style mgn-up-5-m"
                                                                        *ngIf="!loc.opennow">
                                                                        {{loc['estimatedtime_det']['nextAvailDate']}}
                                                                    </p>

                                                                </ng-container>
                                                            </ng-container>
                                                        </ng-container>
                                                    </div>
                                                    <div class="card-item-content-action">
                                                        <div class="" style="padding-bottom: 10px"
                                                            *ngIf="loc['waitlist'] && onlinePresence">
                                                            <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding"
                                                                *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                                <div class="checkin-btn-bp"
                                                                    (click)="checkinClicked(loc, service)"
                                                                    *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && !loc['showToken']">
                                                                    {{getTerminologyTerm('waitlist')}}</div>
                                                                <div class="checkin-btn-bp"
                                                                    (click)="checkinClicked(loc, service)"
                                                                    *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && loc['showToken']">
                                                                    {{get_token_btn}}</div>
                                                                <div class="checkin-btn-bp disabled"
                                                                    style="cursor: auto"
                                                                    *ngIf="!loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                    {{getTerminologyTerm('waitlist')}}</div>
                                                                <div class="checkin-btn-bp disabled"
                                                                    style="cursor: auto"
                                                                    *ngIf="loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                    {{get_token_btn}}</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>
                                </ng-container>
                                <ng-container *ngFor="let user of deptUser.users">
                                    <div class="bus-item doc">
                                        <div class="card card-item-n no-padding">
                                            <div class="card-item-title">
                                                <img class="card-img img-circle img-responsive" [src]="getPic(user)"
                                                    alt="Profile Pic">
                                            </div>
                                            <div class="card-item-content">
                                                <div class="card-item-content-info">
                                                    <p class="title-style mgn-up-10">
                                                        <span *ngIf="user.businessName">{{user.businessName}}</span>
                                                        <span
                                                            *ngIf="!user.businessName && user.firstName && user.firstName!='undefined'">{{user.firstName | capitalizeFirst}}</span>
                                                        <span
                                                            *ngIf="!user.businessName && user.lastName && user.lastName!='undefined'">&nbsp;{{user.lastName | capitalizeFirst}}</span>
                                                    </p>
                                                </div>
                                                <div class="card-item-content-action">
                                                    <div class="checkin-btn-bp" (click)="providerDetClicked(user.id)">
                                                        Book Service
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <!-- Show Departments - No Providers-->
                        <div class="deptInfo" *ngIf="deptUsers.length == 0">
                            <div class="dept-content">
                                <ng-container *ngFor="let dept of loc['apptservices'] | keyvalue">
                                    <div class="dept-head col-md-12 col-xs-12 col-sm-12" *ngIf="!userId">
                                        <h6>{{loc['apptservices'][dept.key][0].deptName | capitalizeFirst}}
                                        </h6>
                                    </div>
                                    <ng-container *ngIf="loc['appttime_det'] && !loc['appttime_det']['message']">
                                        <ng-container *ngFor="let service of loc['apptservices'][dept.key]">
                                            <div class="bus-item"
                                                *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                                <div class="card card-item-n no-padding">
                                                    <div class="card-item-title">
                                                        <a class="pointer-cursor"
                                                            (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                            <span class="service-icon"
                                                                *ngIf="service.serviceType == 'virtualService'">
                                                                <i class="fa phon-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 &&  service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                                <i class="fa meet-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                                <i class="fa zoom-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                                <i class="fa wtsapaud-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                                <i class="fa wtsapvid-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                            </span>
                                                            <b>
                                                                {{service.name | capitalizeFirst}}
                                                            </b>
                                                        </a>

                                                    </div>
                                                    <div class="card-item-content">
                                                        <div class="card-item-content-info">                                                          
                                                            <ng-container class="bottom-actions-root"
                                                                *ngIf="loc['appttime_det']">
                                                                <p class="price mgn-up-10 mgn-bt-0">
                                                                    {{loc['appttime_det']['caption']}}
                                                                </p>
                                                                <p class="title-style mgn-up-5-m">
                                                                    {{loc['appttime_det']['date']}}</p>
                                                            </ng-container>
                                                        </div>
                                                        <div class="card-item-content-action">
                                                            <div class="checkin-btn-bp"
                                                                (click)="appointmentClicked(loc, service)"
                                                                *ngIf="loc['apptAllowed'] && onlinePresence">
                                                                Appointment
                                                            </div>                                                           
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container
                                        *ngIf="loc['estimatedtime_det'] && !loc['estimatedtime_det']['message']  && loc['waitlist']">
                                        <ng-container *ngFor="let service of loc['wlservices'][dept.key]">
                                            <div class="bus-item"
                                                *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                                <div class="card card-item-n no-padding">
                                                    <div class="card-item-title">
                                                        <a class="pointer-cursor"
                                                            (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                            <span class="service-icon"
                                                                *ngIf="service.serviceType == 'virtualService'">
                                                                <i class="fa phon-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                                <i class="fa meet-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                                <i class="fa zoom-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                                <i class="fa wtsapaud-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                                <i class="fa wtsapvid-icon"
                                                                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                            </span>
                                                            <b>
                                                                {{service.name | capitalizeFirst}}
                                                            </b>
                                                        </a>
                                                    </div>
                                                    <div class="card-item-content">
                                                        <div class="card-item-content-info">
                                                            <ng-container
                                                                *ngIf="loc['waitlist'] && onlinePresence && loc['estimatedtime_det']">
                                                                <ng-container
                                                                    *ngIf="settingsjson['calculationMode']!='NoCalc'|| (settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId'])">
                                                                    <p class="title-style mgn-bt-m-5"
                                                                        *ngIf="loc['personAhead']!=0 && loc['personAhead'] > 1">
                                                                        {{loc['personAhead']}} People</p>
                                                                    <p class="title-style mgn-bt-m-5"
                                                                        *ngIf="loc['personAhead']!=0 && loc['personAhead'] == 1">
                                                                        1 Person</p>
                                                                    <p class="price mgn-bt-5"
                                                                        *ngIf="loc['personAhead'] > 0">
                                                                        {{waitinglineCap}}</p>
                                                                    <p class="title-style mgn-up-5"
                                                                        *ngIf="loc['personAhead']==0"> Be
                                                                        the
                                                                        first in line</p>
                                                                </ng-container>
                                                            </ng-container>
                                                            <ng-container class="bottom-actions-root"
                                                                *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                                <ng-container class="checkin-est"
                                                                    *ngIf="loc['estimatedtime_det']['caption'] && settingsjson['calculationMode'] && settingsjson['calculationMode']!='NoCalc'">
                                                                    <p class="price mgn-bt-0">
                                                                        {{loc['estimatedtime_det']['caption']}}
                                                                    </p>
                                                                    <p class="title-style mgn-up-5-m">
                                                                        {{loc['estimatedtime_det']['time']}}
                                                                    </p>

                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="settingsjson['calculationMode'] && settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId']">
                                                                    <ng-container
                                                                        *ngIf="loc['personAhead'] || loc['personAhead'] === 0">
                                                                        <p class="price mgn-bt-0" *ngIf="!loc.opennow">
                                                                            Next Available Time
                                                                        </p>
                                                                        <p class="title-style mgn-up-5-m"
                                                                            *ngIf="!loc.opennow">
                                                                            {{loc['estimatedtime_det']['nextAvailDate']}}
                                                                        </p>

                                                                    </ng-container>
                                                                </ng-container>
                                                            </ng-container>
                                                        </div>
                                                        <div class="card-item-content-action">
                                                            <div class="" style="padding-bottom: 10px"
                                                                *ngIf="loc['waitlist'] && onlinePresence">
                                                                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding"
                                                                    *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                                    <div class="checkin-btn-bp"
                                                                        (click)="checkinClicked(loc, service)"
                                                                        *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && !loc['showToken']">
                                                                        {{getTerminologyTerm('waitlist')}}</div>
                                                                    <div class="checkin-btn-bp"
                                                                        (click)="checkinClicked(loc, service)"
                                                                        *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && loc['showToken']">
                                                                        {{get_token_btn}}</div>
                                                                    <div class="checkin-btn disabled"
                                                                        style="cursor: auto"
                                                                        *ngIf="!loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                        {{getTerminologyTerm('waitlist')}}</div>
                                                                    <div class="checkin-btn disabled"
                                                                        style="cursor: auto"
                                                                        *ngIf="loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                        {{get_token_btn}}</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                                <ng-container
                                    *ngIf="loc['estimatedtime_det'] && !loc['estimatedtime_det']['message']  && loc['waitlist']">
                                    <ng-container *ngFor="let dept of loc['wlservices'] | keyvalue">
                                        <div class="dept-head col-md-12 col-xs-12 col-sm-12"
                                            *ngIf="loc['apptservices'] && !loc['apptservices'][dept.key] && !userId">
                                            <h6>{{loc['wlservices'][dept.key][0].deptName | capitalizeFirst}}
                                            </h6>
                                        </div>
                                        <ng-container *ngFor="let service of loc['wlservices'][dept.key]">
                                            <ng-container *ngIf="loc['apptservices'] && !loc['apptservices'][dept.key]">
                                                <div class="bus-item"
                                                    *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                                    <div class="card card-item-n no-padding">
                                                        <div class="card-item-title">
                                                            <a class="pointer-cursor"
                                                                (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                                <span class="service-icon"
                                                                    *ngIf="service.serviceType == 'virtualService'">
                                                                    <i class="fa phon-icon"
                                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                                    <i class="fa meet-icon"
                                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                                    <i class="fa zoom-icon"
                                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                                    <i class="fa wtsapaud-icon"
                                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                                    <i class="fa wtsapvid-icon"
                                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                                </span>
                                                                <b>
                                                                    {{service.name | capitalizeFirst}}
                                                                </b>
                                                            </a>
                                                        </div>
                                                        <div class="card-item-content">
                                                            <div class="card-item-content-info">
                                                                <ng-container
                                                                    *ngIf="loc['waitlist'] && onlinePresence && loc['estimatedtime_det']">
                                                                    <ng-container
                                                                        *ngIf="settingsjson['calculationMode']!='NoCalc'|| (settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId'])">
                                                                        <p class="title-style mgn-bt-m-5"
                                                                            *ngIf="loc['personAhead']!=0 && loc['personAhead'] > 1">
                                                                            {{loc['personAhead']}} People</p>
                                                                        <p class="title-style mgn-bt-m-5"
                                                                            *ngIf="loc['personAhead']!=0 && loc['personAhead'] == 1">
                                                                            1 Person</p>
                                                                        <p class="price mgn-bt-5"
                                                                            *ngIf="loc['personAhead'] > 0">
                                                                            {{waitinglineCap}}</p>
                                                                        <p class="title-style mgn-up-5"
                                                                            *ngIf="loc['personAhead']==0"> Be
                                                                            the
                                                                            first in line</p>
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container class="bottom-actions-root"
                                                                    *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                                    <ng-container class="checkin-est"
                                                                        *ngIf="loc['estimatedtime_det']['caption'] && settingsjson['calculationMode'] && settingsjson['calculationMode']!='NoCalc'">
                                                                        <p class="price mgn-bt-0">
                                                                            {{loc['estimatedtime_det']['caption']}}
                                                                        </p>
                                                                        <p class="title-style mgn-up-5-m">
                                                                            {{loc['estimatedtime_det']['time']}}
                                                                        </p>

                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="settingsjson['calculationMode'] && settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId']">
                                                                        <ng-container
                                                                            *ngIf="loc['personAhead'] || loc['personAhead'] === 0">
                                                                            <p class="price mgn-bt-0"
                                                                                *ngIf="!loc.opennow">
                                                                                Next Available Time
                                                                            </p>
                                                                            <p class="title-style mgn-up-5-m"
                                                                                *ngIf="!loc.opennow">
                                                                                {{loc['estimatedtime_det']['nextAvailDate']}}
                                                                            </p>

                                                                        </ng-container>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </div>
                                                            <div class="card-item-content-action">
                                                                <div class="" style="padding-bottom: 10px"
                                                                    *ngIf="loc['waitlist'] && onlinePresence">
                                                                    <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding"
                                                                        *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                                        <div class="checkin-btn-bp"
                                                                            (click)="checkinClicked(loc, service)"
                                                                            *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && !loc['showToken']">
                                                                            {{getTerminologyTerm('waitlist')}}</div>
                                                                        <div class="checkin-btn-bp"
                                                                            (click)="checkinClicked(loc, service)"
                                                                            *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                                (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && loc['showToken']">
                                                                            {{get_token_btn}}</div>
                                                                        <div class="checkin-btn disabled"
                                                                            style="cursor: auto"
                                                                            *ngIf="!loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                            {{getTerminologyTerm('waitlist')}}</div>
                                                                        <div class="checkin-btn disabled"
                                                                            style="cursor: auto"
                                                                            *ngIf="loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                                            {{get_token_btn}}</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </ng-container>
                    <!--No Departments-->
                    <ng-container *ngIf="!showDepartments">
                        <ng-container *ngIf="loc['appttime_det'] && !loc['appttime_det']['message']">
                            <ng-container *ngFor="let service of loc['apptservices']">
                                <div class="bus-item"
                                    *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                    <div class="card card-item-n no-padding">
                                        <div class="card-item-title">
                                            <a class="pointer-cursor"
                                                (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                <span class="service-icon"
                                                    *ngIf="service.serviceType == 'virtualService'">
                                                    <i class="fa phon-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                    <i class="fa meet-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                    <i class="fa zoom-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                    <i class="fa wtsapaud-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                    <i class="fa wtsapvid-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                </span>
                                                <b>
                                                    {{service.name | capitalizeFirst}}
                                                </b>
                                            </a>
                                        </div>
                                        <div class="card-item-content">
                                            <div class="card-item-content-info">                                               
                                                <ng-container class="bottom-actions-root" *ngIf="loc['appttime_det']">
                                                    <p class="price mgn-up-10 mgn-bt-0">
                                                        {{loc['appttime_det']['caption']}}
                                                    </p>
                                                    <p class="title-style mgn-up-5-m">
                                                        {{loc['appttime_det']['date']}}</p>
                                                </ng-container>
                                            </div>
                                            <div class="card-item-content-action">
                                                <div class="checkin-btn-bp" (click)="appointmentClicked(loc, service)"
                                                    *ngIf="loc['apptAllowed'] && onlinePresence">
                                                    Appointment
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </ng-container>
                        <ng-container
                            *ngIf="loc['estimatedtime_det'] && !loc['estimatedtime_det']['message']  && loc['waitlist']">
                            <ng-container *ngFor="let service of loc['wlservices']">
                                <div class="bus-item"
                                    *ngIf="(!service.provider && !userId) || (service.provider && userId && service.provider.id==userId)">
                                    <div class="card card-item-n no-padding">
                                        <div class="card-item-title">
                                            <a class="pointer-cursor"
                                                (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')">
                                                <span class="service-icon"
                                                    *ngIf="service.serviceType == 'virtualService'">
                                                    <i class="fa phon-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                                                    <i class="fa meet-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                                                    <i class="fa zoom-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                                                    <i class="fa wtsapaud-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                                                    <i class="fa wtsapvid-icon"
                                                        *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                                                </span>
                                                <b>
                                                    {{service.name | capitalizeFirst}}
                                                </b>
                                            </a>
                                        </div>
                                        <div class="card-item-content">
                                            <div class="card-item-content-info">
                                                <ng-container
                                                    *ngIf="loc['waitlist'] && onlinePresence && loc['estimatedtime_det']">
                                                    <ng-container
                                                        *ngIf="settingsjson['calculationMode']!='NoCalc'|| (settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId'])">
                                                        <p class="title-style mgn-bt-m-5"
                                                            *ngIf="loc['personAhead']!=0 && loc['personAhead'] > 1">
                                                            {{loc['personAhead']}} People</p>
                                                        <p class="title-style mgn-bt-m-5"
                                                            *ngIf="loc['personAhead']!=0 && loc['personAhead'] == 1">
                                                            1 Person</p>
                                                        <p class="price mgn-bt-5" *ngIf="loc['personAhead'] > 0">
                                                            {{waitinglineCap}}</p>
                                                        <p class="title-style mgn-up-5" *ngIf="loc['personAhead']==0">
                                                            Be the
                                                            first in line</p>
                                                    </ng-container>
                                                </ng-container>
                                                <ng-container class="bottom-actions-root"
                                                    *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                    <ng-container class="checkin-est"
                                                        *ngIf="loc['estimatedtime_det']['caption'] && settingsjson['calculationMode'] && settingsjson['calculationMode']!='NoCalc'">
                                                        <p class="price mgn-bt-0">
                                                            {{loc['estimatedtime_det']['caption']}}
                                                        </p>
                                                        <p class="title-style mgn-up-5-m">
                                                            {{loc['estimatedtime_det']['time']}}</p>

                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="settingsjson['calculationMode'] && settingsjson['calculationMode']=='NoCalc' && settingsjson['showTokenId']">
                                                        <ng-container
                                                            *ngIf="loc['personAhead'] || loc['personAhead'] === 0">
                                                            <p class="price mgn-bt-0" *ngIf="!loc.opennow">
                                                                Next Available Time
                                                            </p>
                                                            <p class="title-style mgn-up-5-m" *ngIf="!loc.opennow">
                                                                {{loc['estimatedtime_det']['nextAvailDate']}}</p>

                                                        </ng-container>
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                            <div class="card-item-content-action">
                                                <div class="" style="padding-bottom: 10px"
                                                    *ngIf="loc['waitlist'] && onlinePresence">
                                                    <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding"
                                                        *ngIf="loc['estimatedtime_det'] && (loc['onlineCheckIn'] || settingsjson['futureDateWaitlist'])">
                                                        <div class="checkin-btn-bp"
                                                            (click)="checkinClicked(loc, service)"
                                                            *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                            (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && !loc['showToken']">
                                                            {{getTerminologyTerm('waitlist')}}</div>
                                                        <div class="checkin-btn-bp"
                                                            (click)="checkinClicked(loc, service)"
                                                            *ngIf="((loc['isAvailableToday'] && loc['availableToday'] && loc['onlineCheckIn']) || 
                                            (loc['estimatedtime_det']['cdate'] && settingsjson['futureDateWaitlist'])) && loc['showToken']">
                                                            {{get_token_btn}}</div>
                                                        <div class="checkin-btn disabled" style="cursor: auto"
                                                            *ngIf="!loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                            {{getTerminologyTerm('waitlist')}}</div>
                                                        <div class="checkin-btn disabled" style="cursor: auto"
                                                            *ngIf="loc['showToken'] && (!loc['onlineCheckIn'] || !loc['isAvailableToday'] || !loc['availableToday']) && (!loc['estimatedtime_det']['cdate'] || !settingsjson['futureDateWaitlist'])">
                                                            {{get_token_btn}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-container>
                        </ng-container>
                        <ng-container *ngFor="let user of deptUsers">
                            <div class="bus-item doc">
                                <div class="card card-item-n no-padding">
                                    <div class="card-item-title">
                                        <img class="card-img img-circle img-responsive" [src]="getPic(user)"
                                            alt="Profile Pic">
                                    </div>
                                    <div class="card-item-content">
                                        <div class="card-item-content-info">
                                            <p class="title-style mgn-up-10">
                                                <span *ngIf="user.businessName">{{user.businessName}}</span>
                                                <span
                                                    *ngIf="!user.businessName && user.firstName && user.firstName!='undefined'">{{user.firstName | capitalizeFirst}}</span>
                                                <span
                                                    *ngIf="!user.businessName && user.lastName && user.lastName!='undefined'">&nbsp;{{user.lastName | capitalizeFirst}}</span>
                                            </p>
                                        </div>
                                        <div class="card-item-content-action">
                                            <div class="checkin-btn-bp" (click)="providerDetClicked(user.id)">
                                                Book Service
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </ng-container>
                    <ng-container
                        *ngIf="businessjson.donationFundRaising && onlinePresence && donationServicesjson.length >= 1">
                        <div class="bus-item" *ngFor="let service of donationServicesjson">
                            <div class="card card-item-n no-padding">                                
                                <div class="card-item-title">
                                    <a class="pointer-cursor"
                                        (click)="showServiceDetail(service, businessjson.businessName,'servicedetails')"><b>
                                            {{service.name | capitalizeFirst}}
                                        </b> </a>

                                </div>
                                <div class="card-item-content">
                                    <div class="card-item-content-info">
                                        <div class="card-item-content-action">
                                            <div class="" style="padding-bottom: 10px">
                                                <p class="price mgn-bt-0 mgn-up-10">
                                                    Upto
                                                </p>
                                                <p class="title-style mgn-up-5-m">
                                                    <span class="rupee-font">&#x20b9;</span><span>{{service.maxDonationAmount}}</span>                                                    
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-item-content-action">
                                        <div class="" style="padding-bottom: 10px">
                                            <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding">
                                                <div class="checkin-btn-bp donate-btn-bp"
                                                    (click)="payClicked(loc.id, loc.place,loc['estimatedtime_det']['cdate'], false)">
                                                    Donate</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
</section>
<app-consumer-footer></app-consumer-footer>