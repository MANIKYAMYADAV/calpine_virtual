<app-header [headerTitle]="'Header'" (searchclick)="handlesearchClick($event)" [passedDomain]="domain" [passedkwdet]="kwdet"></app-header>

<section class="content">
  <div class="container">
      <div class="row">

          
          <div class="c-outer">           
              <div class="c-body">
                  <div class="bk-ctrl">
                      <span class="backtoresults" (click)="backtoSearchResult()">Back to <span class="strong">Results</span></span>
                  </div>
                  <div class="srlst details">
                      <div class="top-sect">
                          <div class="tp-l">
                              <div class="tp1">
                                  <div class="pro-img">
                                      <ng-container *ngIf="galleryjson.length > 0">
                                            <ng-container>
                                                <img [src]="galleryjson[0].thumbUrl" alt=""  (click)="openImageModalRow(image_list_popup[0])">  
                                            </ng-container>
                                        </ng-container>
                                  </div>
                                  <ul class="gal" *ngIf="galleryjson.length > 1">
                                      <li>
                                          <div class="galbx">
                                              <div class="overlay">+ {{galleryjson.length - 1 }}</div>
                                              <img [src]="galleryjson[1].thumbUrl" alt=""  (click)="openImageModalRow(image_list_popup[1])">
                                          </div>
                                      </li>
                                  </ul>
                                  <div class="rating-stars">
                                    <img class="ratingstar" *ngFor="let enable of ratingenabledArr" src="./assets/images/star.svg"/><img class="ratingstar" *ngIf="ratingenabledHalf" src="./assets/images/star-half.svg"/><img class="ratingstar" *ngFor="let enable of ratingdisabledArr" src="./assets/images/star-disabled.svg"/>
                                  </div>
                              </div>
                              <ks-modal-gallery *ngIf="image_list_popup && image_list_popup.length>0" [modalImages]="image_list_popup"
                                [plainGalleryConfig]="customPlainGalleryRowConfig"
                                [buttonsConfig]="customButtonsFontAwesomeConfig"
                                (buttonBeforeHook)="onButtonBeforeHook($event)"
                                (buttonAfterHook)="onButtonAfterHook($event)"></ks-modal-gallery>
                              <div class="tp2" *ngIf="businessjson">
                                  <!-- <div class="ynw-verified"></div> -->
                                  <h3>{{businessjson.businessName}}</h3>
                                  <span class="category" *ngIf="businessjson.serviceSector?.displayName">{{businessjson.serviceSector.displayName}}</span>
                                  
                                  <div class="clr">
                                      <div class="otr-elements">
                                          <span class="exp">10 yrs Experience </span>
                                          <span class="awards">Awards &amp; Recognition</span>
                                          <span class="memberships">Memberships</span>
                                      </div>
                                      
                                      <div class="pro-desc">
                                          <ng-container *ngIf="bNameStart!=''">{{bNameStart}}</ng-container><ng-container *ngIf="bNameEnd!='' && showmoreDesc">{{bNameEnd}}</ng-container> 
                                          <span class="more" *ngIf="!showmoreDesc && bNameEnd!=''" (click)="showDesc()">More</span> <span class="more" *ngIf="showmoreDesc" (click)="showDesc()">Less</span>
                                      </div>
                                      
                                      <div class="services" *ngIf="servicesjson.length > 0">
                                          <span class="sub-title">Services Offered</span>
                                          <ul>
                                            <ng-container *ngIf="servicesjson.length <=serMaxcnt">
                                              <li *ngFor="let serv of servicesjson">{{serv.name}}</li>
                                            </ng-container>

                                            <ng-container *ngIf="servicesjson.length > 3">
                                                <ng-container *ngFor="let serv of servicesjson; let i = index">
                                                <li *ngIf="i<serMaxcnt">{{serv.name}}</li>
                                                </ng-container>
                                                <li class="viewall" (click)="showallServices()" *ngIf="!viewallServices"><span>More</span></li>
                                                <ng-container *ngIf="viewallServices">
                                                <ng-container *ngFor="let serv of servicesjson; let j = index" >
                                                    <li *ngIf="j >= serMaxcnt">{{serv.name}}</li>
                                                </ng-container>
                                                <li class="viewall" (click)="showallServices()" *ngIf="viewallServices"><span>Less</span></li>
                                                </ng-container>
                                            </ng-container>
                                            
                                              
                                          </ul>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="tp-r">
                              <div class="ynw-verified"></div>
                              <ul class="side-menu">
                                  <li><span class="icon-history">History</span></li>
                                  <li><span class="fav icon-favourite <!--icon-favourite-filled-->">Add to Favourites</span></li>
                                  <li><span class="icon-inbox">Inbox <span class="count">7</span></span></li>
                                  <li><span class="icon-message">Communicate</span></li>
                                  <li><span class="icon-dashboard">Dashboard</span></li>
                              </ul>
                          </div>
                      </div>
                  </div>
                  
                  <ng-container *ngIf="locationjson.length > 0">
                  <div class="location" *ngFor ="let loc of locationjson">
                      <div class="top-sect">
                          <div class="tp-l">
                              <div class="tp2">
                                  <h3>{{loc.place}}</h3>
                                  <span class="directions">Get Directions</span>
                                  <div class="clr">
                                      <div class="schedule" *ngIf="loc.display_schedule.length > 0">
                                          <span class="sub-title">Working Hours</span>
                                          <ul>
                                            <li *ngFor="let schedule of loc.display_schedule">
                                                <span class="day">{{schedule.dstr}}</span> <span class="time">{{schedule.time}}</span>
                                            </li>
                                          </ul>
                                      </div>

                                      <div class="services" *ngIf="loc.services.length > 0">
                                          <span class="sub-title">Services Offered</span>
                                          <ul>
                                              <li *ngFor="let serv of loc.services">{{serv.name}}</li>
                                          </ul>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="tp-r">
                              <ul class="badges">
                                  <li *ngIf="loc.parkingType!=='' && loc.parkingType != undefined" [matTooltip]="'Parking Type: ' + loc.parkingType"><span class="icon-parking"></span></li>
                                  <li *ngIf="loc.open24hours==true"><span class="icon-open-time" [matTooltip]="'24 Hours Open'"></span></li>
                                  
                                  <!-- <li><span class="icon-trauma"></span></li>
                                  <li><span class="icon-emergency"></span></li>
                                  <li><span class="icon-first-aid"></span></li>
                                  <li><span class="icon-ambulance"></span></li>
                                  <li><span class="icon-payment"></span></li> -->
                              </ul>
                          </div>
                      </div>
                      <div class="bottom-sect">
                          <div class="bt-l">
                              <div class="c-checkin">
                                  <div class="ch-l">
                                      <span class="ch-title">You have <span class="count">2 Check-ins</span>  at this location</span>
                                  </div>
                                  <div class="ch-r">
                                      <ol class="check-list">
                                          <li>
                                              <span class="service">Consultation</span> <span class="service-for">for Ajith,</span> scheduled on  <span class="schedule">Today - 11:00AM</span> Estimated Waiting Time is <span class="est-time">30Min</span>
                                          </li>
                                          <li>
                                              <span class="service">Scanning</span> <span class="service-for">for Mother,</span> scheduled on <span class="schedule">Today - 11:00AM</span>
                                          </li>
                                      </ol>
                                  </div>
                              </div>
                          </div>
                          <div class="bt-r">
                              <span class="cs-btn bt10 blk">Would you like to <span>Cancel Check-ins?</span></span>
                              <span class="cs-btn chk-btn cancel">Cancel</span>
                              <span class="cs-btn bt10">Do you want to <span>Check-in</span> for <span>different Date/Time?</span></span>
                          </div>    
                      </div>
                  </div>
                </ng-container>
                  
                  
              </div>
          </div>
      </div>
  </div>
</section>