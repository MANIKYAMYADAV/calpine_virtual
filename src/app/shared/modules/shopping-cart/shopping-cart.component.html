<section class="container no-padding cons-donate no-padding-small shop-cart">
  <div class="content  p0 loc-list p-checkin ynw-common-form-nm">
    <div class="col-md-12 no-padding-small">
      <div class="panel panel-default">
        <div class="panel-heading top-row ">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
            <app-header *ngIf="sharedFunctionobj.checkLogin()"></app-header>
          </div>
        </div>
        <div class="panel-body no-padding">
          <div class="bg-grey">
            <div class="card title-gb m0">
              <h5 class="mgn-up-10">
                <a class="back-btn" (click)="goBack()">
                  <i class="fa fa-arrow-left"></i>
                </a>
                <span class=" mgn-lt-10 amount">Continue shopping</span>
              </h5>
            </div>
            <!-- revamped section -->
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding" *ngIf="action==''">
              <div class="col-sm-7 col-md-7 col-lg-7 col-xs-12 pad-10">
                <div class="card col-xs-12">
                  <div *ngIf="orders.length === 0">Your cart is empty</div>
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 mgn-up-10 mgn-bt-10 bt-lst-bdr l-ht-2"
                    *ngFor="let item of orders;  let i = index">
                    <div class="col-sm-7 col-md-7 col-lg-7col-xl-7 col-xs-7 no-padding">
                      <div (click)="itemDetails(item)" class="col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xs-3 itm_img" *ngIf="item.item.itemImages"
                        [ngStyle]="{ 'background-image': 'url(' + item.item.itemImages[0].url + ')'}"></div>
                      <div class="col-sm-9 col-md-9 col-lg-9 col-xl-9 col-xs-9">
                        <div class="itm-nme"> {{item.item.itemName}}</div>
                        <div class="price rupee-font itm-amt">&#8377;{{getItemPrice(item)}}
                        </div>
                        <div class="add_nte" (click)="addNotes(item,i)">
                          Have notes?
                        </div>
                      </div>
                    </div>

                    <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xs-3 disp-flex fl-right">
                      <div *ngIf="getItemQty(item) === 1" (click)="removeItemFromCart(item)" class="item-pad bodr-lft bodr-btm-up item-qty cusr-pointer"><i class="fa fa-trash"></i>
                      </div>
                      <div *ngIf="getItemQty(item) >= 2" (click)="decrement(item)" class="item-pad bodr-lft bodr-btm-up item-qty cusr-pointer">-
                      </div>
                      <div class="item-pad bodr-btm-up item-qty">{{getItemQty(item)}}
                      </div>
                      <div (click)="increment(item)" class="item-pad bodr-rht bodr-btm-up item-qty cusr-pointer">+
                      </div>
                    </div>
                    <!-- <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xs-3 disp-flex fl-right" (click)="addNotes(item,i);">
                      <a> <i class="fa fa-sticky-note-o" aria-hidden="true">
                        Add Notes</i></a>
                    </div> -->
                  </div>
                </div>
              </div>

              <div class="col-sm-5 col-md-5 col-lg-5 col-xs-12 pad-10">
                <div class="card col-xs-12">
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 disp-flex">
                    <div class="prov-dp" [ngStyle]="{ 'background-image': 'url(' + businessDetails.logo + ')'}"></div>
                    <div class="prov-name">
                      <div class="prov-name-txt">
                        {{businessDetails.bname}}
                      </div>
                      <div class="prov-loc">
                        {{businessDetails.blocation}}
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 mgn-up-20 bdr-bt-grey">
                    <div class="oder-sumary-txt" *ngIf="home_delivery && store_pickup">
                      Delivery Type
                    </div>
                    <div class="order-label mgn-bt-10">
                      <div *ngIf="home_delivery && store_pickup">
                      <mat-radio-group [(ngModel)]="choose_type" (change)="changeType($event)">
                        <mat-radio-button [value]="'store'" [checked]="storeChecked">
                          Store pick up
                        </mat-radio-button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <mat-radio-button [value]="'home'" [checked]="homeChecked">
                          Home delivery
                        </mat-radio-button>
                      </mat-radio-group>
                    </div>
                      <div *ngIf="store_pickup && !home_delivery">
                        store pickup
                      </div>
                      <div *ngIf="home_delivery && !store_pickup">
                        home delivery
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 mgn-up-10 bdr-bt-grey">
                    <div class="oder-sumary-txt">
                      Date/Time
                      <div class="fl-right"><a (click)="changeTime()">Change</a></div>
                    </div>
                    <div class="order-label mgn-bt-10">
                      <span *ngIf="!isFuturedate">Today, </span>
                      <span *ngIf="!isFuturedate">
                        {{nextAvailableTime}}
                      </span>
                      <span *ngIf="isFuturedate">{{sel_checkindate | date: dateFormat}},
                      </span>
                      <span *ngIf="isFuturedate">
                        {{nextAvailableTime}}
                      </span>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 itm_sumry_outline">
                    <div class="oder-sumary-txt">Order Summary</div>
                    <!-- <div class="order-label"><a>Apply Promo Code</a></div> -->
                    <div class="order-label">
                      <div class="flex1">Item Total</div>
                      <div class="price rupee-font">&#8377;{{getTotalItemPrice()}}</div>
                    </div>
                    <div class="order-label" *ngIf="(home_delivery && !store_pickup) || choose_type =='home'">
                      <div class="flex1">Delivery Charge</div>
                      <div class="price rupee-font">&#8377;{{getDeliveryCharge()}}</div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 sub-tot-outline">
                    <div class="flex1">SUB TOTAL</div>
                    <div class="price rupee-font">&#8377;{{getSubTotal()}}</div>
                  </div>
                  <button (click)="cart()" class="confm_btn">Confirm Order</button>
                </div>
              </div>
            </div>


            <!-- Change date -->
            <div class="panel-body no-padding">
              <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                <div class="card p0">
                  <div class="copy locd">


                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes"
                      *ngIf="action=='timeChange'">
                      <!-- <p>shiva Reddy</p> -->
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-bt-5 mgn-up-10">
                          Choose
                          Date</div>
                        <div class="pull-left brd-round brd-light mgn-up-20">
                          <!-- <div class="icon-minus pull-left" [class.disable]="disableMinus()" -->
                          <div class="icon-minus pull-left" (click)="calculateDate(-1)">
                          </div>

                          <div class="pull-left chkindt">{{sel_checkindate | date: dateFormat}}</div>
                          <div class="icon-add pull-left" (click)="calculateDate(1)"></div>
                        </div>
                        <div class="pickerouter caldiv pull-left mgn-up-20">
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker [dateClass]="dateClass.bind(this)"></mat-datepicker>
                          <input class="" style="visibility: hidden; width:1px" type="text"
                              [matDatepicker]="picker" [min]="minDate" [max]="maxDate" [value]="ddate"
                              (dateChange)="handleFutureDateChange($event)">

                        </div>

                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20">Delivery
                          Timings</div>
                        <div class="col-md-12 col-xs-12 col-sm-12 slotdiv no-padding mgn-up-20">
                          <div class="pull-left brd-round brd-light mgn-up-20" *ngIf="isfutureAvailableTime">
                            <p>{{futureAvailableTime}}</p>
                          </div>
                          <div  *ngIf="!isfutureAvailableTime">
                              <p>No timings are available</p>
                            </div>
                          <!-- <mat-chip-list>
                            <mat-chip>
                              09:00 AM - 10:00 PM

                            </mat-chip>
                          </mat-chip-list> -->

                        </div>

                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-bt-20 mgn-up-20 mgn-lt-5">
                        <button (click)="goBackCart()" class="btn bt3 btn-default coupon-apply-btn"
                          type="button">Ok</button>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>


          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
</section>

