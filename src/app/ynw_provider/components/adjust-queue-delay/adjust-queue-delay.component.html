<form [formGroup]="amForm"  novalidate
(ngSubmit)="amForm.valid &&
onSubmit(amForm.value)">
<div class="form-group">
    <mat-form-field>
        <mat-select placeholder="Queue" formControlName="queue_id">
          <mat-option *ngFor="let queue of queues" [value]="queue.id" >
            {{queue.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
 </div>
 <div class="form-group">
    <ngb-timepicker [(ngModel)]="time" formControlName="delay"></ngb-timepicker>
  </div>
  <div class="form-group">
    Send Message
    <input type="checkbox"  formControlName="send_message">
  </div>
  <mat-form-field class="example-full-width"  *ngIf="amForm.get('send_message').value === true">
    <input matInput type="text" placeholder="Message" formControlName="message">
  </mat-form-field>

  <button  type="submit" mat-button [disabled]="!amForm.valid">Save</button>
  </form>

  <app-field-error-display [displayError]="true" *ngIf="api_error"
  errorMsg="{{api_error}}"></app-field-error-display>

  <app-form-success-display [displayMsg]="true" *ngIf="api_success"
  successMsg="{{api_success}}"></app-form-success-display>
